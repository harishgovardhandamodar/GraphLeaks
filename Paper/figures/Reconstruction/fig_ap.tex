\documentclass{article}

\usepackage{tikz}
\usepackage{tikz}
\usepackage{pgfplots}
\usetikzlibrary{backgrounds, positioning, fit}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{patterns}


\usetikzlibrary{external}
\tikzset{external/system call={latex \tikzexternalcheckshellescape -halt-on-error
-interaction=batchmode -jobname "\image" "\texsource";
dvips -o "\image".ps "\image".dvi;
ps2eps "\image.ps"}}
\tikzexternalize


\begin{document}

\begin{figure}[htb!]
\begin{center}% note that \centering uses less vspace...
\begin{tikzpicture}[font=\large]
\begin{axis}[
legend style={font=\large},
legend pos =  south east,
legend entries={Citeseer, Cora},
ylabel={Average Precision},
xlabel={Iterations},
ylabel near ticks,
xlabel near ticks,
x label style={font=\Large},
y label style={anchor=south,font=\Large},
ytick style={font=\Large},
xtick style={font=\Large},
xmin=0,ymin=0.5,
ymax=1,
xmax=300,
% extra x ticks={1,10,...,400},
% extra y ticks={0,0.5,...,10},
% extra y tick labels={},
% extra x tick labels={},
% extra x tick style={grid=major},
% extra y tick style={grid=major},
every axis plot/.append style={thick},
grid=major
]

\addplot[
    color=black,
    solid,
    %mark=*,
    %mark options={solid},
    %mark size=2pt,
    smooth
    ]
    coordinates {
    ( 0 , 0.65405 )
    ( 1 , 0.67637 )
    ( 2 , 0.63858 )
    ( 3 , 0.65296 )
    ( 4 , 0.70768 )
    ( 5 , 0.77051 )
    ( 6 , 0.7909 )
    ( 7 , 0.80082 )
    ( 8 , 0.81362 )
    ( 9 , 0.82294 )
    ( 10 , 0.82669 )
    ( 11 , 0.82997 )
    ( 12 , 0.83277 )
    ( 13 , 0.83741 )
    ( 14 , 0.84522 )
    ( 15 , 0.85391 )
    ( 16 , 0.85956 )
    ( 17 , 0.86212 )
    ( 18 , 0.86328 )
    ( 19 , 0.86516 )
    ( 20 , 0.8656 )
    ( 21 , 0.86559 )
    ( 22 , 0.86591 )
    ( 23 , 0.86481 )
    ( 24 , 0.8644 )
    ( 25 , 0.86536 )
    ( 26 , 0.86633 )
    ( 27 , 0.8671 )
    ( 28 , 0.86762 )
    ( 29 , 0.86721 )
    ( 30 , 0.86764 )
    ( 31 , 0.86934 )
    ( 32 , 0.87091 )
    ( 33 , 0.87229 )
    ( 34 , 0.87334 )
    ( 35 , 0.87416 )
    ( 36 , 0.87492 )
    ( 37 , 0.87552 )
    ( 38 , 0.87562 )
    ( 39 , 0.87615 )
    ( 40 , 0.87627 )
    ( 41 , 0.87607 )
    ( 42 , 0.87622 )
    ( 43 , 0.87613 )
    ( 44 , 0.87653 )
    ( 45 , 0.87662 )
    ( 46 , 0.87713 )
    ( 47 , 0.87743 )
    ( 48 , 0.87788 )
    ( 49 , 0.87848 )
    ( 50 , 0.87903 )
    ( 51 , 0.88022 )
    ( 52 , 0.88055 )
    ( 53 , 0.88127 )
    ( 54 , 0.88159 )
    ( 55 , 0.88235 )
    ( 56 , 0.88342 )
    ( 57 , 0.88421 )
    ( 58 , 0.8849 )
    ( 59 , 0.8856 )
    ( 60 , 0.88608 )
    ( 61 , 0.88646 )
    ( 62 , 0.88649 )
    ( 63 , 0.88661 )
    ( 64 , 0.88676 )
    ( 65 , 0.88695 )
    ( 66 , 0.88752 )
    ( 67 , 0.88821 )
    ( 68 , 0.8893 )
    ( 69 , 0.89008 )
    ( 70 , 0.89112 )
    ( 71 , 0.89176 )
    ( 72 , 0.89218 )
    ( 73 , 0.89274 )
    ( 74 , 0.89281 )
    ( 75 , 0.8932 )
    ( 76 , 0.89341 )
    ( 77 , 0.89369 )
    ( 78 , 0.89388 )
    ( 79 , 0.89398 )
    ( 80 , 0.89418 )
    ( 81 , 0.89439 )
    ( 82 , 0.89454 )
    ( 83 , 0.89494 )
    ( 84 , 0.89515 )
    ( 85 , 0.89519 )
    ( 86 , 0.89533 )
    ( 87 , 0.89536 )
    ( 88 , 0.89539 )
    ( 89 , 0.89534 )
    ( 90 , 0.89537 )
    ( 91 , 0.89531 )
    ( 92 , 0.89526 )
    ( 93 , 0.89528 )
    ( 94 , 0.89514 )
    ( 95 , 0.89522 )
    ( 96 , 0.89527 )
    ( 97 , 0.89531 )
    ( 98 , 0.89521 )
    ( 99 , 0.89513 )
    ( 100 , 0.8951 )
    ( 101 , 0.89512 )
    ( 102 , 0.89501 )
    ( 103 , 0.89497 )
    ( 104 , 0.89497 )
    ( 105 , 0.89485 )
    ( 106 , 0.8949 )
    ( 107 , 0.89486 )
    ( 108 , 0.89485 )
    ( 109 , 0.89485 )
    ( 110 , 0.89486 )
    ( 111 , 0.89484 )
    ( 112 , 0.89476 )
    ( 113 , 0.89462 )
    ( 114 , 0.89453 )
    ( 115 , 0.89443 )
    ( 116 , 0.89434 )
    ( 117 , 0.89424 )
    ( 118 , 0.8942 )
    ( 119 , 0.89426 )
    ( 120 , 0.89412 )
    ( 121 , 0.89416 )
    ( 122 , 0.89409 )
    ( 123 , 0.89404 )
    ( 124 , 0.89406 )
    ( 125 , 0.89394 )
    ( 126 , 0.89386 )
    ( 127 , 0.89375 )
    ( 128 , 0.89361 )
    ( 129 , 0.89353 )
    ( 130 , 0.89361 )
    ( 131 , 0.89354 )
    ( 132 , 0.89356 )
    ( 133 , 0.89342 )
    ( 134 , 0.89341 )
    ( 135 , 0.89336 )
    ( 136 , 0.89342 )
    ( 137 , 0.89348 )
    ( 138 , 0.89346 )
    ( 139 , 0.89343 )
    ( 140 , 0.8935 )
    ( 141 , 0.8936 )
    ( 142 , 0.89362 )
    ( 143 , 0.89356 )
    ( 144 , 0.89348 )
    ( 145 , 0.89345 )
    ( 146 , 0.89347 )
    ( 147 , 0.89351 )
    ( 148 , 0.89342 )
    ( 149 , 0.89343 )
    ( 150 , 0.89359 )
    ( 151 , 0.89368 )
    ( 152 , 0.89381 )
    ( 153 , 0.89395 )
    ( 154 , 0.8941 )
    ( 155 , 0.89411 )
    ( 156 , 0.89415 )
    ( 157 , 0.8942 )
    ( 158 , 0.89421 )
    ( 159 , 0.89432 )
    ( 160 , 0.8944 )
    ( 161 , 0.89444 )
    ( 162 , 0.89451 )
    ( 163 , 0.89451 )
    ( 164 , 0.89457 )
    ( 165 , 0.89458 )
    ( 166 , 0.89465 )
    ( 167 , 0.89486 )
    ( 168 , 0.89503 )
    ( 169 , 0.89512 )
    ( 170 , 0.89522 )
    ( 171 , 0.89525 )
    ( 172 , 0.89534 )
    ( 173 , 0.89544 )
    ( 174 , 0.89538 )
    ( 175 , 0.89541 )
    ( 176 , 0.89552 )
    ( 177 , 0.89548 )
    ( 178 , 0.89555 )
    ( 179 , 0.8956 )
    ( 180 , 0.89555 )
    ( 181 , 0.8955 )
    ( 182 , 0.89543 )
    ( 183 , 0.89542 )
    ( 184 , 0.89536 )
    ( 185 , 0.89536 )
    ( 186 , 0.89527 )
    ( 187 , 0.89525 )
    ( 188 , 0.89526 )
    ( 189 , 0.8952 )
    ( 190 , 0.89526 )
    ( 191 , 0.89523 )
    ( 192 , 0.89512 )
    ( 193 , 0.89514 )
    ( 194 , 0.89516 )
    ( 195 , 0.89515 )
    ( 196 , 0.89516 )
    ( 197 , 0.89504 )
    ( 198 , 0.89498 )
    ( 199 , 0.89481 )
    ( 200 , 0.89484 )
    ( 201 , 0.89466 )
    ( 202 , 0.89455 )
    ( 203 , 0.89441 )
    ( 204 , 0.89432 )
    ( 205 , 0.8943 )
    ( 206 , 0.89425 )
    ( 207 , 0.89415 )
    ( 208 , 0.89394 )
    ( 209 , 0.89379 )
    ( 210 , 0.89375 )
    ( 211 , 0.89368 )
    ( 212 , 0.89351 )
    ( 213 , 0.89335 )
    ( 214 , 0.89326 )
    ( 215 , 0.89317 )
    ( 216 , 0.89306 )
    ( 217 , 0.89295 )
    ( 218 , 0.8928 )
    ( 219 , 0.89267 )
    ( 220 , 0.89258 )
    ( 221 , 0.89242 )
    ( 222 , 0.89234 )
    ( 223 , 0.89215 )
    ( 224 , 0.89209 )
    ( 225 , 0.89203 )
    ( 226 , 0.892 )
    ( 227 , 0.89191 )
    ( 228 , 0.89188 )
    ( 229 , 0.89179 )
    ( 230 , 0.89175 )
    ( 231 , 0.89172 )
    ( 232 , 0.89171 )
    ( 233 , 0.8916 )
    ( 234 , 0.89159 )
    ( 235 , 0.89154 )
    ( 236 , 0.89148 )
    ( 237 , 0.89135 )
    ( 238 , 0.89133 )
    ( 239 , 0.89128 )
    ( 240 , 0.89129 )
    ( 241 , 0.89126 )
    ( 242 , 0.89112 )
    ( 243 , 0.89092 )
    ( 244 , 0.89086 )
    ( 245 , 0.89084 )
    ( 246 , 0.89075 )
    ( 247 , 0.89067 )
    ( 248 , 0.89065 )
    ( 249 , 0.89067 )
    ( 250 , 0.89061 )
    ( 251 , 0.89054 )
    ( 252 , 0.89054 )
    ( 253 , 0.89038 )
    ( 254 , 0.89029 )
    ( 255 , 0.89024 )
    ( 256 , 0.89012 )
    ( 257 , 0.8899 )
    ( 258 , 0.88981 )
    ( 259 , 0.88964 )
    ( 260 , 0.88957 )
    ( 261 , 0.88946 )
    ( 262 , 0.88936 )
    ( 263 , 0.88922 )
    ( 264 , 0.88906 )
    ( 265 , 0.88893 )
    ( 266 , 0.88889 )
    ( 267 , 0.88872 )
    ( 268 , 0.88866 )
    ( 269 , 0.88852 )
    ( 270 , 0.8884 )
    ( 271 , 0.88828 )
    ( 272 , 0.88812 )
    ( 273 , 0.88799 )
    ( 274 , 0.88791 )
    ( 275 , 0.88767 )
    ( 276 , 0.88747 )
    ( 277 , 0.88736 )
    ( 278 , 0.8873 )
    ( 279 , 0.88708 )
    ( 280 , 0.88698 )
    ( 281 , 0.88691 )
    ( 282 , 0.88683 )
    ( 283 , 0.88675 )
    ( 284 , 0.88653 )
    ( 285 , 0.88636 )
    ( 286 , 0.88613 )
    ( 287 , 0.88603 )
    ( 288 , 0.88591 )
    ( 289 , 0.88569 )
    ( 290 , 0.88558 )
    ( 291 , 0.8854 )
    ( 292 , 0.88507 )
    ( 293 , 0.88486 )
    ( 294 , 0.88471 )
    ( 295 , 0.88461 )
    ( 296 , 0.88447 )
    ( 297 , 0.88425 )
    ( 298 , 0.88418 )
    ( 299 , 0.88409 )
    ( 300 , 0.88395 )
    };

\addplot[
    color=black,
    dashed,
    %mark=*,
    %mark options={solid},
    %mark size=2pt,
    smooth
    ]
    coordinates {
    ( 0 , 0.63246 )
    ( 1 , 0.65987 )
    ( 2 , 0.69497 )
    ( 3 , 0.68219 )
    ( 4 , 0.69225 )
    ( 5 , 0.72945 )
    ( 6 , 0.74467 )
    ( 7 , 0.75869 )
    ( 8 , 0.77683 )
    ( 9 , 0.78998 )
    ( 10 , 0.79901 )
    ( 11 , 0.80333 )
    ( 12 , 0.80908 )
    ( 13 , 0.81494 )
    ( 14 , 0.81898 )
    ( 15 , 0.82174 )
    ( 16 , 0.8232 )
    ( 17 , 0.82508 )
    ( 18 , 0.82613 )
    ( 19 , 0.82733 )
    ( 20 , 0.82922 )
    ( 21 , 0.83157 )
    ( 22 , 0.83431 )
    ( 23 , 0.83744 )
    ( 24 , 0.84082 )
    ( 25 , 0.84354 )
    ( 26 , 0.84618 )
    ( 27 , 0.84746 )
    ( 28 , 0.84758 )
    ( 29 , 0.84728 )
    ( 30 , 0.84672 )
    ( 31 , 0.8457 )
    ( 32 , 0.84478 )
    ( 33 , 0.8444 )
    ( 34 , 0.84343 )
    ( 35 , 0.84248 )
    ( 36 , 0.84126 )
    ( 37 , 0.84066 )
    ( 38 , 0.83978 )
    ( 39 , 0.83948 )
    ( 40 , 0.8389 )
    ( 41 , 0.83862 )
    ( 42 , 0.83811 )
    ( 43 , 0.8374 )
    ( 44 , 0.83651 )
    ( 45 , 0.83562 )
    ( 46 , 0.83458 )
    ( 47 , 0.83412 )
    ( 48 , 0.83417 )
    ( 49 , 0.83434 )
    ( 50 , 0.8347 )
    ( 51 , 0.83488 )
    ( 52 , 0.83508 )
    ( 53 , 0.83532 )
    ( 54 , 0.83527 )
    ( 55 , 0.83552 )
    ( 56 , 0.83569 )
    ( 57 , 0.83587 )
    ( 58 , 0.83626 )
    ( 59 , 0.83646 )
    ( 60 , 0.83644 )
    ( 61 , 0.83657 )
    ( 62 , 0.83647 )
    ( 63 , 0.83634 )
    ( 64 , 0.83609 )
    ( 65 , 0.83605 )
    ( 66 , 0.83608 )
    ( 67 , 0.83619 )
    ( 68 , 0.83644 )
    ( 69 , 0.83668 )
    ( 70 , 0.83676 )
    ( 71 , 0.8367 )
    ( 72 , 0.83664 )
    ( 73 , 0.83682 )
    ( 74 , 0.83684 )
    ( 75 , 0.83701 )
    ( 76 , 0.83705 )
    ( 77 , 0.83711 )
    ( 78 , 0.83732 )
    ( 79 , 0.83735 )
    ( 80 , 0.83753 )
    ( 81 , 0.83763 )
    ( 82 , 0.83769 )
    ( 83 , 0.83799 )
    ( 84 , 0.83819 )
    ( 85 , 0.83831 )
    ( 86 , 0.83832 )
    ( 87 , 0.83835 )
    ( 88 , 0.8383 )
    ( 89 , 0.83829 )
    ( 90 , 0.83825 )
    ( 91 , 0.83848 )
    ( 92 , 0.83857 )
    ( 93 , 0.83848 )
    ( 94 , 0.8385 )
    ( 95 , 0.83837 )
    ( 96 , 0.83846 )
    ( 97 , 0.83847 )
    ( 98 , 0.83851 )
    ( 99 , 0.83855 )
    ( 100 , 0.83863 )
    ( 101 , 0.83859 )
    ( 102 , 0.83856 )
    ( 103 , 0.8385 )
    ( 104 , 0.83858 )
    ( 105 , 0.83847 )
    ( 106 , 0.83842 )
    ( 107 , 0.83843 )
    ( 108 , 0.83838 )
    ( 109 , 0.83845 )
    ( 110 , 0.83855 )
    ( 111 , 0.83861 )
    ( 112 , 0.83865 )
    ( 113 , 0.83875 )
    ( 114 , 0.83881 )
    ( 115 , 0.83894 )
    ( 116 , 0.83908 )
    ( 117 , 0.83927 )
    ( 118 , 0.83932 )
    ( 119 , 0.83968 )
    ( 120 , 0.8397 )
    ( 121 , 0.83987 )
    ( 122 , 0.84005 )
    ( 123 , 0.84018 )
    ( 124 , 0.84041 )
    ( 125 , 0.8407 )
    ( 126 , 0.84088 )
    ( 127 , 0.84105 )
    ( 128 , 0.84136 )
    ( 129 , 0.84161 )
    ( 130 , 0.84163 )
    ( 131 , 0.84163 )
    ( 132 , 0.84179 )
    ( 133 , 0.84197 )
    ( 134 , 0.84219 )
    ( 135 , 0.84242 )
    ( 136 , 0.84253 )
    ( 137 , 0.84271 )
    ( 138 , 0.84274 )
    ( 139 , 0.84276 )
    ( 140 , 0.84283 )
    ( 141 , 0.84303 )
    ( 142 , 0.843 )
    ( 143 , 0.84319 )
    ( 144 , 0.84323 )
    ( 145 , 0.84325 )
    ( 146 , 0.84324 )
    ( 147 , 0.84322 )
    ( 148 , 0.84321 )
    ( 149 , 0.84312 )
    ( 150 , 0.84325 )
    ( 151 , 0.84327 )
    ( 152 , 0.84333 )
    ( 153 , 0.84335 )
    ( 154 , 0.84341 )
    ( 155 , 0.84345 )
    ( 156 , 0.84352 )
    ( 157 , 0.84351 )
    ( 158 , 0.84354 )
    ( 159 , 0.84361 )
    ( 160 , 0.84366 )
    ( 161 , 0.84364 )
    ( 162 , 0.8436 )
    ( 163 , 0.84359 )
    ( 164 , 0.84359 )
    ( 165 , 0.84359 )
    ( 166 , 0.84358 )
    ( 167 , 0.84366 )
    ( 168 , 0.84369 )
    ( 169 , 0.84377 )
    ( 170 , 0.84377 )
    ( 171 , 0.84389 )
    ( 172 , 0.84385 )
    ( 173 , 0.84381 )
    ( 174 , 0.84394 )
    ( 175 , 0.84389 )
    ( 176 , 0.84392 )
    ( 177 , 0.84395 )
    ( 178 , 0.84386 )
    ( 179 , 0.84385 )
    ( 180 , 0.84384 )
    ( 181 , 0.84384 )
    ( 182 , 0.84389 )
    ( 183 , 0.84385 )
    ( 184 , 0.8438 )
    ( 185 , 0.84375 )
    ( 186 , 0.84374 )
    ( 187 , 0.84375 )
    ( 188 , 0.84366 )
    ( 189 , 0.84359 )
    ( 190 , 0.84356 )
    ( 191 , 0.84356 )
    ( 192 , 0.84358 )
    ( 193 , 0.84366 )
    ( 194 , 0.84363 )
    ( 195 , 0.84366 )
    ( 196 , 0.84367 )
    ( 197 , 0.84365 )
    ( 198 , 0.8437 )
    ( 199 , 0.84378 )
    ( 200 , 0.8438 )
    ( 201 , 0.84372 )
    ( 202 , 0.84371 )
    ( 203 , 0.84373 )
    ( 204 , 0.84375 )
    ( 205 , 0.84377 )
    ( 206 , 0.84373 )
    ( 207 , 0.84376 )
    ( 208 , 0.84375 )
    ( 209 , 0.84373 )
    ( 210 , 0.84374 )
    ( 211 , 0.84376 )
    ( 212 , 0.84376 )
    ( 213 , 0.84371 )
    ( 214 , 0.84375 )
    ( 215 , 0.8438 )
    ( 216 , 0.84376 )
    ( 217 , 0.84374 )
    ( 218 , 0.84377 )
    ( 219 , 0.8439 )
    ( 220 , 0.84395 )
    ( 221 , 0.84391 )
    ( 222 , 0.84392 )
    ( 223 , 0.84394 )
    ( 224 , 0.84398 )
    ( 225 , 0.84394 )
    ( 226 , 0.84394 )
    ( 227 , 0.84403 )
    ( 228 , 0.84401 )
    ( 229 , 0.84401 )
    ( 230 , 0.84398 )
    ( 231 , 0.84399 )
    ( 232 , 0.84396 )
    ( 233 , 0.84401 )
    ( 234 , 0.84395 )
    ( 235 , 0.84402 )
    ( 236 , 0.84394 )
    ( 237 , 0.84396 )
    ( 238 , 0.8439 )
    ( 239 , 0.84393 )
    ( 240 , 0.84395 )
    ( 241 , 0.84395 )
    ( 242 , 0.84389 )
    ( 243 , 0.84387 )
    ( 244 , 0.84391 )
    ( 245 , 0.84392 )
    ( 246 , 0.84395 )
    ( 247 , 0.84392 )
    ( 248 , 0.8439 )
    ( 249 , 0.844 )
    ( 250 , 0.84404 )
    ( 251 , 0.84404 )
    ( 252 , 0.84406 )
    ( 253 , 0.84403 )
    ( 254 , 0.84406 )
    ( 255 , 0.84399 )
    ( 256 , 0.84402 )
    ( 257 , 0.844 )
    ( 258 , 0.84399 )
    ( 259 , 0.84397 )
    ( 260 , 0.84393 )
    ( 261 , 0.84388 )
    ( 262 , 0.84383 )
    ( 263 , 0.84377 )
    ( 264 , 0.84366 )
    ( 265 , 0.8436 )
    ( 266 , 0.84358 )
    ( 267 , 0.84363 )
    ( 268 , 0.8436 )
    ( 269 , 0.84352 )
    ( 270 , 0.84352 )
    ( 271 , 0.84355 )
    ( 272 , 0.84355 )
    ( 273 , 0.8435 )
    ( 274 , 0.84345 )
    ( 275 , 0.84345 )
    ( 276 , 0.84349 )
    ( 277 , 0.84348 )
    ( 278 , 0.8435 )
    ( 279 , 0.84337 )
    ( 280 , 0.84336 )
    ( 281 , 0.84333 )
    ( 282 , 0.84328 )
    ( 283 , 0.84316 )
    ( 284 , 0.84314 )
    ( 285 , 0.84317 )
    ( 286 , 0.84312 )
    ( 287 , 0.8431 )
    ( 288 , 0.84307 )
    ( 289 , 0.84296 )
    ( 290 , 0.84291 )
    ( 291 , 0.84292 )
    ( 292 , 0.84288 )
    ( 293 , 0.8428 )
    ( 294 , 0.84276 )
    ( 295 , 0.84275 )
    ( 296 , 0.84277 )
    ( 297 , 0.84275 )
    ( 298 , 0.84269 )
    ( 299 , 0.84273 )
    ( 300 , 0.84267 )
    };


\end{axis}
\end{tikzpicture}
\caption{Comparison of performance drop in model trained using the theoretically equivalent Tikhonov regularisation (fault tolerant) and model trained using adversarial input noise.}
\label{fig:fault}
\end{center}
\end{figure}


\end{document}
